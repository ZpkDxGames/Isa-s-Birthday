/* Message page-specific background */
body::before {
    background-image: url('../img/backgrounds/message_page_background.webp');
}

/* Letter Container */
.letter-container {
    max-width: 950px; /* Increased from 800px for better width */
    margin: 0 auto 60px;
    padding: 0 20px;
}

.letter-paper {
    background: #fefefe;
    border-radius: 15px;
    padding: 0;
    box-shadow: 0 10px 40px rgba(0,0,0,0.15), 0 0 0 1px rgba(139, 69, 19, 0.1);
    position: relative;
    font-family: 'Playfair Display', serif;
    color: var(--text-dark);
    /* Create notebook lines - 36px spacing for better readability */
    background-image: repeating-linear-gradient(
        transparent,
        transparent 35px,
        rgba(139, 69, 19, 0.2) 35px,
        rgba(139, 69, 19, 0.2) 36px
    );
    /* Performance optimization */
    will-change: transform;
    transform: translateZ(0);
}

/* Letter Header */
.letter-header {
    padding: 36px 60px 0 60px; /* Increased horizontal padding and match new line spacing */
    margin: 0;
}

.date {
    text-align: right;
    font-size: 1.1rem; /* Increased from 1rem */
    color: var(--primary-color);
    font-weight: 600;
    line-height: 36px; /* Match new line spacing exactly */
    height: 36px; /* Occupy exactly one line */
    margin: 0;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

.greeting {
    font-size: 1.5rem; /* Increased from 1.4rem */
    font-weight: 700;
    color: var(--text-dark);
    font-family: 'Dancing Script', cursive;
    opacity: 0; /* Hide initially for typing animation */
    line-height: 36px; /* Match new line spacing exactly */
    height: 36px; /* Occupy exactly one line */
    margin: 36px 0 0 0; /* Skip one line with new spacing */
    padding: 0;
    display: flex;
    align-items: center;
}

/* Letter Content */
.letter-content {
    padding: 0 60px 60px 60px; /* Increased horizontal padding and bottom padding */
    font-size: 1.2rem; /* Increased from 1.1rem for better readability */
    line-height: 36px; /* Perfect alignment with new background lines */
}

.paragraph {
    margin: 0 0 36px 0; /* One line spacing between paragraphs with new spacing */
    text-align: justify;
    text-indent: 35px; /* Increased from 30px */
    opacity: 0; /* Hide initially for typing animation */
    line-height: 36px; /* Updated to new line height */
    min-height: 36px; /* Ensure minimum height with new spacing */
}

.paragraph:first-child {
    font-weight: 600;
    color: var(--primary-color);
    text-indent: 0;
    margin-top: 36px; /* Skip one line after greeting with new spacing */
}

.closing {
    margin: 36px 0; /* One line spacing above and below with new spacing */
    font-weight: 600;
    color: var(--primary-color);
    text-indent: 0;
    opacity: 0; /* Hide initially for typing animation */
    line-height: 36px; /* Updated to new line height */
}

.signature {
    text-align: right;
    margin: 36px 0 0 0; /* One line spacing above with new spacing */
    font-style: italic;
    color: var(--text-dark);
    opacity: 0; /* Hide initially for typing animation */
    line-height: 36px; /* Updated to new line height */
}

.signature-name {
    font-family: 'Dancing Script', cursive;
    font-size: 1.4rem; /* Increased from 1.3rem */
    font-weight: 700;
    color: var(--primary-color);
}

/* Responsive Design */
@media (max-width: 768px) {
    .letter-container {
        max-width: 100%; /* Full width on tablets */
        padding: 0 15px; /* Reduced side padding */
    }
    
    .letter-paper {
        /* 32px spacing for medium screens - better than 28px */
        background-image: repeating-linear-gradient(
            transparent,
            transparent 31px,
            rgba(139, 69, 19, 0.2) 31px,
            rgba(139, 69, 19, 0.2) 32px
        );
    }
    
    .letter-header {
        padding: 32px 40px 0 40px; /* Increased from 30px */
    }
    
    .letter-content {
        padding: 0 40px 50px 40px; /* Increased from 30px */
        font-size: 1.1rem; /* Increased from 1rem */
        line-height: 32px; /* Updated to match background */
    }
    
    .date {
        font-size: 1rem;
        line-height: 32px;
        height: 32px;
    }
    
    .greeting {
        font-size: 1.3rem; /* Increased from 1.2rem */
        line-height: 32px;
        height: 32px;
        margin: 32px 0 0 0;
    }
    
    .paragraph {
        line-height: 32px;
        margin: 0 0 32px 0;
        text-indent: 25px; /* Increased from 20px */
        min-height: 32px;
    }
    
    .paragraph:first-child {
        margin-top: 32px;
    }
    
    .closing {
        margin: 32px 0;
        line-height: 32px;
    }
    
    .signature {
        margin: 32px 0 0 0;
        line-height: 32px;
    }
    
    .signature-name {
        font-size: 1.3rem;
    }
}

@media (max-width: 480px) {
    .letter-container {
        padding: 0 10px; /* Minimal padding for small screens */
    }
    
    .letter-paper {
        /* Keep lines on small screens but make them lighter */
        background-image: repeating-linear-gradient(
            transparent,
            transparent 27px,
            rgba(139, 69, 19, 0.1) 27px,
            rgba(139, 69, 19, 0.1) 28px
        );
        border-radius: 12px; /* Slightly smaller radius */
    }
    
    .letter-header {
        padding: 28px 25px 0 25px; /* Increased from 20px */
    }
    
    .letter-content {
        padding: 0 25px 35px 25px; /* Increased from 20px and 30px */
        font-size: 1rem; /* Increased from 0.95rem */
        line-height: 28px;
    }
    
    .date {
        font-size: 0.95rem; /* Increased from 0.9rem */
        line-height: 28px;
        height: 28px;
    }
    
    .greeting {
        font-size: 1.2rem; /* Increased from 1.1rem */
        line-height: 28px;
        height: 28px;
        margin: 28px 0 0 0;
    }
    
    .paragraph {
        line-height: 28px;
        margin: 0 0 28px 0;
        text-indent: 20px; /* Increased from 15px */
        text-align: left;
        min-height: 28px;
    }
    
    .paragraph:first-child {
        margin-top: 28px;
    }
    
    .closing {
        margin: 28px 0;
        line-height: 28px;
    }
    
    .signature {
        margin: 28px 0 0 0;
        line-height: 28px;
    }
    
    .signature-name {
        font-size: 1.2rem; /* Increased from 1.1rem implied */
    }
}
